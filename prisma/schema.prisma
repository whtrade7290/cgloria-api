generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model class_meeting {
  id          BigInt                 @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime               @default(now())
  update_at   DateTime               @default(now())
  deleted     Boolean                @default(false)
  content     String?                @db.LongText
  writer_name String?
  files       String?                @db.LongText
  mainContent Boolean                @default(false)
  language    class_meeting_language @default(ko)
}

model general_forum {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  content     String?  @db.LongText
  writer_name String?
  files       String?  @db.LongText
}

model notice {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  content     String?  @db.LongText
  writer_name String?
  files       String?  @db.LongText
}

model comments {
  id          BigInt   @id @default(autoincrement())
  board_id    Int
  board_name  String
  content     String   @db.LongText
  writer_name String?
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
}

model bible {
  idx                Int                  @id @default(autoincrement())
  cate               Int
  book               Int
  chapter            Int
  paragraph          Int
  sentence           String               @db.TinyText
  testament          String               @db.VarChar(10)
  long_label         String               @db.VarChar(30)
  short_label        String               @db.VarChar(10)
  count              Int                  @default(0)
  countOfChapter     Int                  @default(0)
  weekly_bible_verse weekly_bible_verse[]

  @@index([book])
}

model column {
  id          BigInt          @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime        @default(now())
  update_at   DateTime        @default(now())
  deleted     Boolean         @default(false)
  content     String?         @db.LongText
  writer_name String?
  files       String?         @db.LongText
  mainContent Boolean         @default(false)
  language    column_language @default(ko)
}

model photo_board {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  files       String?  @db.LongText
  content     String?  @db.LongText
  writer_name String?
}

model schedule {
  id         BigInt   @id @default(autoincrement())
  title      String
  start      DateTime
  end        DateTime
  color      String?  @default("#0F2854")
  created_by String?
  create_at  DateTime @default(now())
  update_at  DateTime @default(now())
  deleted    Boolean  @default(false)
}

model schedule_upload_log {
  id           BigInt   @id @default(autoincrement())
  filename     String?
  uploader     String?
  successCount Int      @default(0)
  failCount    Int      @default(0)
  errors       String?  @db.LongText
  create_at    DateTime @default(now())
}

model school_photo_board {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  files       String?  @db.LongText
  content     String?  @db.LongText
  writer_name String?
}

model sermon {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  content     String?  @db.LongText
  writer_name String?
  files       String?  @db.LongText
  mainContent Boolean  @default(false)
}

model sunday_school_resource {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  content     String?  @db.LongText
  writer_name String?
  files       String?  @db.LongText
}

model testimony {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  content     String?  @db.LongText
  writer_name String?
  files       String?  @db.LongText
  mainContent Boolean  @default(false)
}

model user {
  id                BigInt            @id @default(autoincrement())
  username          String            @unique
  password          String
  create_at         DateTime          @default(now())
  update_at         DateTime          @default(now())
  role              user_role         @default(USER)
  name              String?
  isApproved        Boolean           @default(false)
  isChanged         Boolean           @default(false)
  email             String?
  profile_image_url String?
  user_diary_room   user_diary_room[]
}

model user_diary_room {
  id              Int             @id @default(autoincrement())
  userId          BigInt
  diaryRoomId     Int
  createdAt       DateTime        @default(now())
  with_diary_room with_diary_room @relation(fields: [diaryRoomId], references: [id])
  user            user            @relation(fields: [userId], references: [id])

  @@unique([userId, diaryRoomId])
  @@index([diaryRoomId], map: "UserDiaryRoom_diaryRoomId_fkey")
}

model weekly_bible_verse {
  id          BigInt   @id @default(autoincrement())
  title       String
  writer      String
  create_at   DateTime @default(now())
  update_at   DateTime @default(now())
  deleted     Boolean  @default(false)
  content     String?  @db.LongText
  writer_name String?
  files       String?  @db.LongText
  mainContent Boolean  @default(false)
  bible_id    Int?
  bible       bible?   @relation(fields: [bible_id], references: [idx])

  @@index([bible_id], map: "weekly_bible_verse_bible_id_fkey")
}

model with_diary {
  id              BigInt           @id @default(autoincrement())
  title           String
  content         String           @db.LongText
  writer          String
  files           String?          @db.LongText
  create_at       DateTime         @default(now())
  update_at       DateTime         @default(now())
  deleted         Boolean          @default(false)
  writer_name     String?
  diaryRoomId     Int?
  with_diary_room with_diary_room? @relation(fields: [diaryRoomId], references: [id])

  @@index([diaryRoomId], map: "withDiary_diaryRoomId_fkey")
}

model with_diary_room {
  id              Int               @id @default(autoincrement())
  creator         Int
  create_at       DateTime          @default(now())
  update_at       DateTime          @default(now())
  roomName        String            @default("")
  creator_name    String
  user_diary_room user_diary_room[]
  with_diary      with_diary[]
}

enum user_role {
  ADMIN
  DIARY
  USER
  GUEST
}

enum class_meeting_language {
  ko
  ja
}

enum column_language {
  ko
  ja
}
